<style>
 /*
 strong {
    color: #666;
    font-weight: bold;
    padding-left: 1.5em;
    background: transparent url(http://www.vimer.cn/static/zinnia/theme/img/shorturl.png) no-repeat scroll;
 }*/

 .post-content h2,
 .post-content h3,
 .post-content h4,
 .post-content h5,
 .post-content h6,
 .post-content h7,
 .post-content a {
    border: none !important;
  }

 .post-content p {
     margin-bottom: 15px !important;
     text-align: justify;
 }

 .post-content ul {
     list-style-type: square !important;
 }
 
 .post-content abbr, 
 .post-content acronym, 
 .post-content address, 
 .post-content applet, 
 .post-content big, 
 .post-content caption,
 .post-content cite,
 .post-content .highlight table tr,
 .post-content pre, 
 .post-content code, 
 .post-content del, 
 .post-content dfn, 
 .post-content em, 
 .post-content fieldset, 
 .post-content figure,
 .post-content font, 
 .post-content form, 
 .post-content iframe,
 .post-content ins, 
 .post-content kbd, 
 .post-content label, 
 .post-content legend, 
 .post-content object, 
 .post-content q, 
 .post-content s, 
 .post-content samp, 
 .post-content small, 
 .post-content span, 
 .post-content strike, 
 .post-content sub, 
 .post-content sup, 
 .post-content tt, 
 .post-content var {
     border: 0;
     font-family: inherit;
     font-size: 100%;
     font-style: inherit;
     font-weight: inherit;
     margin: 0;
     outline: 0;
     padding: 0;
     vertical-align: baseline;
 }
 
 .post-content ::after,.post-content ::before {
     box-sizing: border-box;
 }
   
 .post-content > blockquote{
    padding: 1em;
    font-style: initial;
    margin: 1em 0;
    border: 0 !important;
  border-radius: 8px;
    border-left: 0.5em cyan solid !important;  
    background-color: #F0FFFF;
    color: #333;
  }


 .post-content .highlight {
    border: 0 !important;
    padding: .4em;
    background-color:#F5FFFA  !important;
    font-size: 1.1rem;
    border-radius: 8px;
}
 
 .post-content pre {
   background-color: #F5FFFA !important;

 }

 .post-content blockquote::before {
    display: none;
  }

/* image full gallery */	
.fullscreen{margin-left:calc(490px - 50vw);width:calc(100vw - 20px);column-count:4;column-gap:6px;}
.fullscreen img{display:inherit;margin-bottom:8px;}
@media (max-width: 980px){
	.fullscreen{margin-left: 0;width:auto;column-count:3;}
}

/* image short gallery */	
.post-content  p a:has(> img:nth-child(2)){column-count:2;column-gap:8px;margin:6px 0;}
.post-content  p a:has(> img:nth-child(3)){column-count:3;}
.post-content  p a:has(> img:nth-child(4)){column-count:4;}
.post-content  p a:has(> img:nth-child(5)){column-count:5;}
.post-content  p a:has(> img:nth-child(6)){column-count:4;}
.post-content  p a:has(> img:nth-child(2)) img{display:inherit;}
.post-content  p a:has(> img:nth-child(6)) img{margin-bottom:8px;}	
</style>
<footer id="footer">
    <div>
        &copy; {{ now.Format "2006" }} <a href="{{ .Site.BaseURL | absURL }}">{{ .Site.Title }} By {{ .Site.Author.name }}</a>
        {{ if .Site.Params.beian }}
        | <a rel="nofollow" target="_blank" href="http://beian.miit.gov.cn/">{{.Site.Params.beian}}</a>
        {{ end }}
    </div>
    <br />
    <div>
        <div class="github-badge">
            <a href="https://gohugo.io/" target="_black" rel="nofollow"><span class="badge-subject">Powered by</span><span class="badge-value bg-blue">Hugo</span></a>
        </div>
        <div class="github-badge">
            <a href="https://zhangxingong.github.io/blog/" target="_black"><span class="badge-subject">Design by</span><span class="badge-value bg-brightgreen">伊桑</span></a>
        </div>
        <div class="github-badge">
            <a href="https://github.com/flysnow-org/maupassant-hugo" target="_black"><span class="badge-subject">Theme</span><span class="badge-value bg-yellowgreen">Maupassant</span></a>
        </div>
    </div>
</footer>
{{ if .IsPage }}
    {{ $defaultCdnJsSite := "cdnjs.cloudflare.com" }}
    <!-- graphviz -->
    {{- if and (or .Params.graphviz.enable (and .Site.Params.graphviz.enable (ne .Params.graphviz.enable false))) (or .IsPage .IsHome) -}}
        <script type="text/javascript" src="//{{ .Site.Params.cdnJsSite | default $defaultCdnJsSite }}/ajax/libs/viz.js/1.7.1/viz.js"></script>
        <script type="text/javascript">
            (function () {
                if (!window.Viz) return;
                var vizPrefix = "language-viz-";
                var i = 0;
                Array.prototype.forEach.call(document.querySelectorAll("code[class^=" + vizPrefix + "]"), function (block) {
                    var engine;
                    block.getAttribute("class").split(" ").forEach(function (cls) {
                        if (cls.startsWith(vizPrefix)) {
                            engine = cls.substr(vizPrefix.length);
                        }
                    });
                    const rootElement = block.parentNode;
                    var image = new DOMParser().parseFromString(Viz(block.innerText, { format: "svg", engine: engine }), "image/svg+xml");
                    const container = document.createElement('div');
                    container.className = 'align-center';
                    container.setAttribute("style", "overFlow-x:auto");
                    container.appendChild(image.documentElement);
                    rootElement.parentNode.replaceChild(container, rootElement);
                });
            })();
        </script>
    {{- end -}}

    <!-- flowchart -->
    {{- if and (or .Params.flowchartDiagrams.enable (and .Site.Params.flowchartDiagrams.enable (ne .Params.flowchartDiagrams.enable false))) (or .IsPage .IsHome) -}}
        <script src="//{{ .Site.Params.cdnJsSite | default $defaultCdnJsSite }}/ajax/libs/raphael/2.2.8/raphael.min.js" crossorigin="anonymous"></script>
        <script src="//{{ .Site.Params.cdnJsSite | default $defaultCdnJsSite }}/ajax/libs/flowchart/1.12.2/flowchart.min.js" crossorigin="anonymous"></script>
        <script>
            {{- if .Params.flowchartDiagrams.options -}}
                window.flowchartDiagramsOptions = {{ .Params.flowchartDiagrams.options | safeJS }};
            {{- else if .Site.Params.flowchartDiagrams.options -}}
                window.flowchartDiagramsOptions = {{ .Site.Params.flowchartDiagrams.options | safeJS }};
            {{- end -}}
            (function () {
                if (!window.flowchart) return;
                const blocks = document.querySelectorAll('pre code.language-flowchart, pre code.language-flow');
                for (let i = 0; i < blocks.length; i++) {
                    const block = blocks[i];
                    const rootElement = block.parentNode;
                    const container = document.createElement('div');
                    const id = `js-flowchart-diagrams-${i}`;
                    container.id = id;
                    container.className = 'align-center';
                    container.setAttribute("style", "overFlow-x:auto");
                    rootElement.parentNode.replaceChild(container, rootElement);
                    const diagram = flowchart.parse(block.childNodes[0].nodeValue);
                    diagram.drawSVG(id, window.flowchartDiagramsOptions ? window.flowchartDiagramsOptions : {});
                }
            })();
        </script>
    {{- end -}}
    
    <!-- sequence必须要在flow加载之后，否则sequence渲染不成功，原因待分析 -->
    <!-- js-sequence-diagrams -->
    {{- if and (or .Params.sequenceDiagrams.enable (and .Site.Params.sequenceDiagrams.enable (ne .Params.sequenceDiagrams.enable false))) (or .IsPage .IsHome) -}}
        <script src="//{{ .Site.Params.cdnJsSite | default $defaultCdnJsSite }}/ajax/libs/webfont/1.6.28/webfontloader.js" crossorigin="anonymous"></script>
        <script src="//{{ .Site.Params.cdnJsSite | default $defaultCdnJsSite }}/ajax/libs/snap.svg/0.5.1/snap.svg-min.js" crossorigin="anonymous"></script>
        <script src="//{{ .Site.Params.cdnJsSite | default $defaultCdnJsSite }}/ajax/libs/underscore.js/1.9.1/underscore-min.js" crossorigin="anonymous"></script>
        <script src="//{{ .Site.Params.cdnJsSite | default $defaultCdnJsSite }}/ajax/libs/js-sequence-diagrams/1.0.6/sequence-diagram-min.js" crossorigin="anonymous"></script>
        <script>
        {{- if .Params.sequenceDiagrams.options -}}
            window.sequenceDiagramsOptions = {{ .Params.sequenceDiagrams.options | safeJS }};
        {{- else if .Site.Params.sequenceDiagrams.options -}}
            window.sequenceDiagramsOptions = {{ .Site.Params.sequenceDiagrams.options | safeJS }};
        {{- end -}}
        (function () {
            if (!window.Diagram) return;
            const blocks = document.querySelectorAll('pre code.language-sequence');
            for (let i = 0; i < blocks.length; i++) {
                const block = blocks[i];
                // const rootElement = window.Prism.plugins.lineNumbers ? (window.Prism.plugins.toolbar ? block.parentElement.parentElement : block.parentElement) : block;
                const rootElement = block.parentNode;
                const container = document.createElement('div');
                const id = `js-sequence-diag-${i}`;
                container.id = id;
                container.className = 'align-center';
                container.setAttribute("style", "overFlow-x:auto");
                rootElement.parentNode.replaceChild(container, rootElement);

                const diagram = Diagram.parse(block.childNodes[0].nodeValue);
                diagram.drawSVG(id, window.sequenceDiagramsOptions
                    ? window.sequenceDiagramsOptions
                    : { theme: 'simple' });
            }
        })();
        </script>
    {{- end -}}
    
    <script type="text/javascript">
        window.MathJax = {
            tex2jax: {
                inlineMath: [['$', '$']],
                processEscapes: true
                }
            };
    </script>
    <script src='//{{ .Site.Params.cdnJsSite | default $defaultCdnJsSite }}/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML' async></script>
    
    {{- if .Site.Params.fancybox -}}
        <script src="//{{ .Site.Params.cdnJsSite | default $defaultCdnJsSite }}/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.js"></script>
    {{- end -}}
{{ end }}

<a id="rocket" href="#top"></a>
<script type="text/javascript" src='{{ "js/totop.js?v=0.0.0" | relURL }}' async></script>
{{- if hasPrefix .Site.GoogleAnalytics "UA-" -}}
    {{ template "_internal/google_analytics_async.html" . }}
{{- else if hasPrefix .Site.GoogleAnalytics "G-" -}}
    {{ template "_internal/google_analytics.html" . }}
{{- end -}}

{{ partial "copy_button" . }}

{{ if .Site.Params.busuanzi }}
    <script type="text/javascript" src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" async></script>
{{ end }}

<!-- custom js -->
{{ range .Site.Params.customJS }}
    <script src='{{ "/js/" | relURL }}{{ . }}'></script>
{{ end }}

<script src="https://immmmm.com/waterfall.min.js"></script>
<script src="https://immmmm.com/imgStatus.min.js"></script>
<script>
document.addEventListener('DOMContentLoaded', () => {
  //外链 gallery 标签相册瀑布流
  var photosAll = document.getElementsByTagName('gallery') || '';
  if(photosAll){
    for(var i=0;i < photosAll.length;i++){
      photosAll[i].innerHTML = '<div class="gallery-photos">'+photosAll[i].innerHTML+'</div>'
      var photosIMG = photosAll[i].getElementsByTagName('img')
      for(var j=0;j < photosIMG.length;j++){
        wrap(photosIMG[j], document.createElement('div'));
      }
    }
  }
  function wrap(el, wrapper) {
    wrapper.className = "gallery-photo";
    el.parentNode.insertBefore(wrapper, el);
    wrapper.appendChild(el);
  }
  //相册瀑布流
  let galleryPhotos = document.querySelectorAll('.gallery-photos') || ''
  if(galleryPhotos){
    imgStatus.watch('.gallery-photo img', function(imgs) {
      if(imgs.isDone()){
        for(var i=0;i < galleryPhotos.length;i++){
          waterfall(galleryPhotos[i]);
          let pagePhoto = galleryPhotos[i].querySelectorAll('.gallery-photo');
          for(var j=0;j < pagePhoto.length;j++){pagePhoto[j].className += " visible"};
        }
      }
    });
    window.addEventListener('resize', function () {
      for(var i=0;i < galleryPhotos.length;i++){
        waterfall(galleryPhotos[i]);
      }
    });
  }
});
</script>
<script>
document.addEventListener('DOMContentLoaded', () => {
let galleryPhotos = document.querySelectorAll('.gallery-photos') || ''
if(galleryPhotos){
  imgStatus.watch('.gallery-photo img', function(imgs) {
    if(imgs.isDone()){
      for(var i=0;i < galleryPhotos.length;i++){
        waterfall(galleryPhotos[i]);
        let pagePhoto = galleryPhotos[i].querySelectorAll('.gallery-photo');
        for(var j=0;j < pagePhoto.length;j++){pagePhoto[j].className += " visible"};
      }
    }
  });
  window.addEventListener('resize', function () {
    for(var i=0;i < galleryPhotos.length;i++){
      waterfall(galleryPhotos[i]);
    }
  });
}
});
</script>

<script type="text/javascript" src="https://immmmm.com/view-image.js"></script>
<script>
  window.ViewImage && ViewImage.init('.gallery-photo img')
</script>

<!-- 烟花特效 -->
<!-- <canvas class="fireworks"  width="1536" height="560" style="position: fixed; left: 0px; top: 0px; z-index: 10000000000; pointer-events: none; width: 1536px; height: 280px;" width="3072" height="560"></canvas>
<script type="text/javascript" src="//cdn.bootcss.com/animejs/2.2.0/anime.min.js"></script>
<script type="text/javascript" src="{{ "js/fireworks.js" | relURL }}"></script>-->
<!-- 雪花特效 -->
<script type="text/javascript" src="{{ "js/snow.js" | relURL }}"></script>
<!--动态线条背景-->
<script type="text/javascript" color="220,220,220" opacity="0.7" zindex="-2" count="200" src="//cdn.bootcss.com/canvas-nest.js/1.0.0/canvas-nest.min.js"></script>
<canvas id="c_n39" style="position: fixed; top: 0px; left: 0px; z-index: -2; opacity: 0.7;" width="1536" height="150"></canvas>

